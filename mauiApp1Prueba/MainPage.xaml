<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="mauiApp1Prueba.MainPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:mauiApp1Prueba.ViewModels"
             x:DataType="viewmodels:RadioHomeViewModel"
             Title="Radio Punta del Este">

    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- Gradiente para el fondo -->
            <LinearGradientBrush x:Key="CoolBackgroundGradient" StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#667eea" Offset="0.0" />
                <GradientStop Color="#764ba2" Offset="1.0" />
            </LinearGradientBrush>

            <!-- Colores personalizados -->
            <Color x:Key="Primary">#667eea</Color>
            <Color x:Key="Secondary">#764ba2</Color>
            <Color x:Key="SurfaceCard">#FFFFFF</Color>
            <Color x:Key="TextPrimary">#1a1a1a</Color>
            <Color x:Key="TextSecondary">#666666</Color>
            <Color x:Key="TextLight">#999999</Color>
            <Color x:Key="Error">#ff4757</Color>
            <Color x:Key="Success">#2ed573</Color>
            <Color x:Key="Gray100">#f8f9fa</Color>
            <Color x:Key="Gray200">#e9ecef</Color>
            <Color x:Key="Gray300">#dee2e6</Color>
            <Color x:Key="White">#FFFFFF</Color>

            <!-- Brushes -->
            <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource Primary}" />
            <SolidColorBrush x:Key="SecondaryBrush" Color="{StaticResource Secondary}" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid Background="{StaticResource CoolBackgroundGradient}">

        <ScrollView>
            <Grid Padding="15" RowSpacing="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- Header simplificado -->
                <StackLayout Grid.Row="0" Spacing="10" Margin="0,15,0,0">
                    <Label Text="🎵" 
                           FontSize="40" 
                           HorizontalOptions="Center"/>

                    <Label Text="Radio Punta del Este" 
                           FontSize="22" 
                           FontAttributes="Bold"
                           TextColor="{StaticResource White}"
                           HorizontalOptions="Center"/>
                </StackLayout>

                <!-- Reproductor simplificado -->
                <Frame Grid.Row="1" 
                       BackgroundColor="{StaticResource SurfaceCard}"
                       CornerRadius="20"
                       Padding="20"
                       HasShadow="True">
                    <StackLayout Orientation="Horizontal" Spacing="15">
                        <!-- Estado EN VIVO -->
                        <Frame BackgroundColor="{StaticResource Error}"
                               BorderColor="Transparent"
                               CornerRadius="12"
                               Padding="8,4"
                               VerticalOptions="Center"
                               IsVisible="{Binding IsLive}">
                            <Label Text="🔴 VIVO" 
                                   FontSize="10" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource White}"/>
                        </Frame>

                        <!-- Botón Play/Pause -->
                        <Frame BackgroundColor="{StaticResource Primary}"
                               CornerRadius="25"
                               WidthRequest="50"
                               HeightRequest="50"
                               Padding="0"
                               VerticalOptions="Center">
                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding PlayPauseCommand}" />
                            </Frame.GestureRecognizers>
                            <Label Text="{Binding PlayPauseIcon}" 
                                   FontSize="20"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   TextColor="{StaticResource White}"
                                   x:Name="PlayIcon"/>
                        </Frame>

                        <!-- Info actual -->
                        <StackLayout VerticalOptions="Center" HorizontalOptions="FillAndExpand">
                            <Label Text="{Binding CurrentShow}" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="{Binding CurrentTime}" 
                                   FontSize="12" 
                                   TextColor="{StaticResource TextSecondary}"/>
                        </StackLayout>
                    </StackLayout>
                </Frame>

                <!-- Grid principal de secciones en 2 columnas -->
                <Grid Grid.Row="2" ColumnSpacing="15" RowSpacing="15" x:Name="SectionsGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- NOTICIAS -->
                    <Frame Grid.Row="0" Grid.Column="0"
                           BackgroundColor="{StaticResource SurfaceCard}"
                           CornerRadius="15"
                           Padding="20"
                           HasShadow="True"
                           x:Name="NoticiasFrame">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnNoticiasClicked" />
                        </Frame.GestureRecognizers>
                        <StackLayout Spacing="10">
                            <Label Text="📰" FontSize="32" HorizontalOptions="Center"/>
                            <Label Text="Noticias" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"
                                   HorizontalOptions="Center"/>
                            <Label Text="Últimas noticias" 
                                   FontSize="11" 
                                   TextColor="{StaticResource TextLight}"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"/>
                        </StackLayout>
                    </Frame>

                    <!-- CINE -->
                    <Frame Grid.Row="0" Grid.Column="1"
                           BackgroundColor="{StaticResource SurfaceCard}"
                           CornerRadius="15"
                           Padding="20"
                           HasShadow="True"
                           x:Name="CineFrame">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnCineClicked" />
                        </Frame.GestureRecognizers>
                        <StackLayout Spacing="10">
                            <Label Text="🎬" FontSize="32" HorizontalOptions="Center"/>
                            <Label Text="Cine" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"
                                   HorizontalOptions="Center"/>
                            <Label Text="Cartelera actual" 
                                   FontSize="11" 
                                   TextColor="{StaticResource TextLight}"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"/>
                        </StackLayout>
                    </Frame>

                    <!-- CLIMA -->
                    <Frame Grid.Row="1" Grid.Column="0"
                           BackgroundColor="{StaticResource SurfaceCard}"
                           CornerRadius="15"
                           Padding="20"
                           HasShadow="True"
                           x:Name="ClimaFrame">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnClimaClicked" />
                        </Frame.GestureRecognizers>
                        <StackLayout Spacing="10">
                            <Label Text="☀️" FontSize="32" HorizontalOptions="Center"/>
                            <Label Text="Clima" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"
                                   HorizontalOptions="Center"/>
                            <Label Text="Punta del Este" 
                                   FontSize="11" 
                                   TextColor="{StaticResource TextLight}"
                                   HorizontalOptions="Center"/>
                        </StackLayout>
                    </Frame>

                    <!-- COTIZACIONES -->
                    <Frame Grid.Row="1" Grid.Column="1"
                           BackgroundColor="{StaticResource SurfaceCard}"
                           CornerRadius="15"
                           Padding="20"
                           HasShadow="True"
                           x:Name="CotizacionesFrame">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnCotizacionesClicked" />
                        </Frame.GestureRecognizers>
                        <StackLayout Spacing="10">
                            <Label Text="💱" FontSize="32" HorizontalOptions="Center"/>
                            <Label Text="Cotizaciones" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"
                                   HorizontalOptions="Center"/>
                            <Label Text="Monedas" 
                                   FontSize="11" 
                                   TextColor="{StaticResource TextLight}"
                                   HorizontalOptions="Center"/>
                        </StackLayout>
                    </Frame>

                    <!-- PATROCINADORES (ocupa ambas columnas) -->
                    <Frame Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                           BackgroundColor="{StaticResource SurfaceCard}"
                           CornerRadius="15"
                           Padding="20"
                           HasShadow="True"
                           x:Name="PatrocinadoresFrame">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnPatrocinadoresClicked" />
                        </Frame.GestureRecognizers>
                        <StackLayout Orientation="Horizontal" Spacing="15">
                            <Label Text="🤝" FontSize="28" VerticalOptions="Center"/>
                            <StackLayout VerticalOptions="Center" HorizontalOptions="FillAndExpand">
                                <Label Text="Patrocinadores" 
                                       FontSize="16" 
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource TextPrimary}"/>
                                <Label Text="Nuestros aliados" 
                                       FontSize="11" 
                                       TextColor="{StaticResource TextLight}"/>
                            </StackLayout>
                            <Label Text="→" FontSize="20" TextColor="{StaticResource Primary}" VerticalOptions="Center"/>
                        </StackLayout>
                    </Frame>
                </Grid>

                <!-- Espacio final -->
                <BoxView Grid.Row="3" HeightRequest="30" BackgroundColor="Transparent"/>

            </Grid>
        </ScrollView>

        <!-- Loading indicator overlay -->
        <Grid IsVisible="{Binding IsLoading}"
              BackgroundColor="#80000000">
            <StackLayout HorizontalOptions="Center" 
                         VerticalOptions="Center"
                         Spacing="15">
                <ActivityIndicator IsRunning="{Binding IsLoading}"
                                   Color="{StaticResource White}"
                                   HeightRequest="50"
                                   WidthRequest="50"/>
                <Label Text="Cargando..."
                       FontSize="16"
                       TextColor="{StaticResource White}"
                       HorizontalOptions="Center"/>
            </StackLayout>
        </Grid>

    </Grid>

</ContentPage>